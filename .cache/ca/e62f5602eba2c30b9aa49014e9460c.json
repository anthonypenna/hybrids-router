{"id":"r0hs","dependencies":[{"name":"/Users/anthony.penna/Documents/Code/hybrid-router/package.json","includedInParent":true,"mtime":1581441185279},{"name":"/Users/anthony.penna/Documents/Code/hybrid-router/node_modules/hybrids/package.json","includedInParent":true,"mtime":1581356308302},{"name":"/Users/anthony.penna/Documents/Code/hybrid-router/node_modules/hybrids/.babelrc","includedInParent":true,"mtime":499162500000},{"name":"../utils","loc":{"line":1,"column":56},"parent":"/Users/anthony.penna/Documents/Code/hybrid-router/node_modules/hybrids/esm/template/resolvers/array.js","resolved":"/Users/anthony.penna/Documents/Code/hybrid-router/node_modules/hybrids/esm/template/utils.js"},{"name":"./value","loc":{"line":3,"column":25},"parent":"/Users/anthony.penna/Documents/Code/hybrid-router/node_modules/hybrids/esm/template/resolvers/array.js","resolved":"/Users/anthony.penna/Documents/Code/hybrid-router/node_modules/hybrids/esm/template/resolvers/value.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=o,exports.arrayMap=void 0;var e=require(\"../utils\"),a=r(require(\"./value\"));function r(e){return e&&e.__esModule?e:{default:e}}var t=new WeakMap;function l(a,r){var t=e.dataMap.get(a),l=t.startNode,o=(0,e.getTemplateEnd)(t.endNode);r.parentNode.insertBefore(a,r.nextSibling);for(var n=a,d=l;d;){var i=d.nextSibling;n.parentNode.insertBefore(d,n.nextSibling),n=d,d=i!==o.nextSibling&&i}}function o(r,o,n){var d=t.get(o),i=n.map(function(e,a){return{id:Object.prototype.hasOwnProperty.call(e,\"id\")?e.id:a,value:e,placeholder:null,available:!0}});if(t.set(o,i),d){var p=new Set;i.forEach(function(e){return p.add(e.id)}),d=d.filter(function(a){return!!p.has(a.id)||((0,e.removeTemplate)(a.placeholder),a.placeholder.parentNode.removeChild(a.placeholder),!1)})}for(var u=o,v=n.length-1,c=e.dataMap.get(o),f=0;f<i.length;f+=1){var h=i[f],s=void 0;if(d)for(var g=0;g<d.length;g+=1)if(d[g].available&&d[g].id===h.id){s=d[g];break}var b=void 0;s?(s.available=!1,(b=s.placeholder).previousSibling!==u&&l(b,u),s.value!==h.value&&(0,a.default)(r,b,h.value)):(b=document.createTextNode(\"\"),u.parentNode.insertBefore(b,u.nextSibling),(0,a.default)(r,b,h.value)),u=(0,e.getTemplateEnd)(e.dataMap.get(b).endNode||b),0===f&&(c.startNode=b),f===v&&(c.endNode=u),h.placeholder=b}d&&d.forEach(function(a){a.available&&((0,e.removeTemplate)(a.placeholder),a.placeholder.parentNode.removeChild(a.placeholder))})}exports.arrayMap=t;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":84}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":86}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":94}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":108}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":110}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":114}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":116}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":124}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":136}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":138}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":140}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":148}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":160}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":169}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":171}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":174}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":181}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":184}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":186}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":197}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":199}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":200}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":208}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":8,"column":7},"generated":{"line":1,"column":211}},{"source":"../../../src/template/resolvers/array.js","name":"arrayMap","original":{"line":8,"column":13},"generated":{"line":1,"column":215}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":8,"column":24},"generated":{"line":1,"column":217}},{"source":"../../../src/template/resolvers/array.js","name":"WeakMap","original":{"line":8,"column":28},"generated":{"line":1,"column":221}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":229}},{"source":"../../../src/template/resolvers/array.js","name":"movePlaceholder","original":{"line":10,"column":9},"generated":{"line":1,"column":238}},{"source":"../../../src/template/resolvers/array.js","name":"target","original":{"line":10,"column":25},"generated":{"line":1,"column":240}},{"source":"../../../src/template/resolvers/array.js","name":"previousSibling","original":{"line":10,"column":33},"generated":{"line":1,"column":242}},{"source":"../../../src/template/resolvers/array.js","name":"data","original":{"line":11,"column":8},"generated":{"line":1,"column":245}},{"source":"../../../src/template/resolvers/array.js","name":"data","original":{"line":11,"column":8},"generated":{"line":1,"column":249}},{"source":"../../../src/template/resolvers/array.js","name":"dataMap","original":{"line":11,"column":15},"generated":{"line":1,"column":251}},{"source":"../../../src/template/resolvers/array.js","name":"get","original":{"line":11,"column":23},"generated":{"line":1,"column":253}},{"source":"../../../src/template/resolvers/array.js","name":"get","original":{"line":11,"column":23},"generated":{"line":1,"column":261}},{"source":"../../../src/template/resolvers/array.js","name":"target","original":{"line":11,"column":27},"generated":{"line":1,"column":265}},{"source":"../../../src/template/resolvers/array.js","name":"startNode","original":{"line":12,"column":8},"generated":{"line":1,"column":268}},{"source":"../../../src/template/resolvers/array.js","name":"data","original":{"line":12,"column":20},"generated":{"line":1,"column":270}},{"source":"../../../src/template/resolvers/array.js","name":"startNode","original":{"line":12,"column":25},"generated":{"line":1,"column":272}},{"source":"../../../src/template/resolvers/array.js","name":"endNode","original":{"line":13,"column":8},"generated":{"line":1,"column":282}},{"source":"../../../src/template/resolvers/array.js","name":"getTemplateEnd","original":{"line":13,"column":18},"generated":{"line":1,"column":285}},{"source":"../../../src/template/resolvers/array.js","name":"data","original":{"line":13,"column":33},"generated":{"line":1,"column":287}},{"source":"../../../src/template/resolvers/array.js","name":"data","original":{"line":13,"column":33},"generated":{"line":1,"column":289}},{"source":"../../../src/template/resolvers/array.js","name":"data","original":{"line":13,"column":33},"generated":{"line":1,"column":305}},{"source":"../../../src/template/resolvers/array.js","name":"endNode","original":{"line":13,"column":38},"generated":{"line":1,"column":307}},{"source":"../../../src/template/resolvers/array.js","name":"previousSibling","original":{"line":15,"column":2},"generated":{"line":1,"column":316}},{"source":"../../../src/template/resolvers/array.js","name":"parentNode","original":{"line":15,"column":18},"generated":{"line":1,"column":318}},{"source":"../../../src/template/resolvers/array.js","name":"insertBefore","original":{"line":15,"column":29},"generated":{"line":1,"column":329}},{"source":"../../../src/template/resolvers/array.js","name":"target","original":{"line":15,"column":42},"generated":{"line":1,"column":342}},{"source":"../../../src/template/resolvers/array.js","name":"previousSibling","original":{"line":15,"column":50},"generated":{"line":1,"column":344}},{"source":"../../../src/template/resolvers/array.js","name":"nextSibling","original":{"line":15,"column":66},"generated":{"line":1,"column":346}},{"source":"../../../src/template/resolvers/array.js","name":"node","original":{"line":19,"column":9},"generated":{"line":1,"column":359}},{"source":"../../../src/template/resolvers/array.js","name":"prevNode","original":{"line":17,"column":6},"generated":{"line":1,"column":363}},{"source":"../../../src/template/resolvers/array.js","name":"prevNode","original":{"line":17,"column":6},"generated":{"line":1,"column":367}},{"source":"../../../src/template/resolvers/array.js","name":"target","original":{"line":17,"column":17},"generated":{"line":1,"column":369}},{"source":"../../../src/template/resolvers/array.js","name":"node","original":{"line":18,"column":6},"generated":{"line":1,"column":371}},{"source":"../../../src/template/resolvers/array.js","name":"startNode","original":{"line":18,"column":13},"generated":{"line":1,"column":373}},{"source":"../../../src/template/resolvers/array.js","name":"node","original":{"line":19,"column":9},"generated":{"line":1,"column":375}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":19,"column":15},"generated":{"line":1,"column":378}},{"source":"../../../src/template/resolvers/array.js","name":"nextNode","original":{"line":20,"column":10},"generated":{"line":1,"column":379}},{"source":"../../../src/template/resolvers/array.js","name":"nextNode","original":{"line":20,"column":10},"generated":{"line":1,"column":383}},{"source":"../../../src/template/resolvers/array.js","name":"node","original":{"line":20,"column":21},"generated":{"line":1,"column":385}},{"source":"../../../src/template/resolvers/array.js","name":"nextSibling","original":{"line":20,"column":26},"generated":{"line":1,"column":387}},{"source":"../../../src/template/resolvers/array.js","name":"prevNode","original":{"line":21,"column":4},"generated":{"line":1,"column":399}},{"source":"../../../src/template/resolvers/array.js","name":"parentNode","original":{"line":21,"column":13},"generated":{"line":1,"column":401}},{"source":"../../../src/template/resolvers/array.js","name":"insertBefore","original":{"line":21,"column":24},"generated":{"line":1,"column":412}},{"source":"../../../src/template/resolvers/array.js","name":"node","original":{"line":21,"column":37},"generated":{"line":1,"column":425}},{"source":"../../../src/template/resolvers/array.js","name":"prevNode","original":{"line":21,"column":43},"generated":{"line":1,"column":427}},{"source":"../../../src/template/resolvers/array.js","name":"nextSibling","original":{"line":21,"column":52},"generated":{"line":1,"column":429}},{"source":"../../../src/template/resolvers/array.js","name":"prevNode","original":{"line":22,"column":4},"generated":{"line":1,"column":442}},{"source":"../../../src/template/resolvers/array.js","name":"node","original":{"line":22,"column":15},"generated":{"line":1,"column":444}},{"source":"../../../src/template/resolvers/array.js","name":"node","original":{"line":23,"column":4},"generated":{"line":1,"column":446}},{"source":"../../../src/template/resolvers/array.js","name":"nextNode","original":{"line":23,"column":11},"generated":{"line":1,"column":448}},{"source":"../../../src/template/resolvers/array.js","name":"endNode","original":{"line":23,"column":24},"generated":{"line":1,"column":452}},{"source":"../../../src/template/resolvers/array.js","name":"nextSibling","original":{"line":23,"column":32},"generated":{"line":1,"column":454}},{"source":"../../../src/template/resolvers/array.js","name":"nextNode","original":{"line":23,"column":47},"generated":{"line":1,"column":467}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":27,"column":15},"generated":{"line":1,"column":470}},{"source":"../../../src/template/resolvers/array.js","name":"resolveArray","original":{"line":27,"column":24},"generated":{"line":1,"column":479}},{"source":"../../../src/template/resolvers/array.js","name":"host","original":{"line":27,"column":37},"generated":{"line":1,"column":481}},{"source":"../../../src/template/resolvers/array.js","name":"target","original":{"line":27,"column":43},"generated":{"line":1,"column":483}},{"source":"../../../src/template/resolvers/array.js","name":"value","original":{"line":27,"column":51},"generated":{"line":1,"column":485}},{"source":"../../../src/template/resolvers/array.js","name":"lastEntries","original":{"line":28,"column":6},"generated":{"line":1,"column":488}},{"source":"../../../src/template/resolvers/array.js","name":"lastEntries","original":{"line":28,"column":6},"generated":{"line":1,"column":492}},{"source":"../../../src/template/resolvers/array.js","name":"arrayMap","original":{"line":28,"column":20},"generated":{"line":1,"column":494}},{"source":"../../../src/template/resolvers/array.js","name":"get","original":{"line":28,"column":29},"generated":{"line":1,"column":496}},{"source":"../../../src/template/resolvers/array.js","name":"target","original":{"line":28,"column":33},"generated":{"line":1,"column":500}},{"source":"../../../src/template/resolvers/array.js","name":"entries","original":{"line":29,"column":8},"generated":{"line":1,"column":503}},{"source":"../../../src/template/resolvers/array.js","name":"value","original":{"line":29,"column":18},"generated":{"line":1,"column":505}},{"source":"../../../src/template/resolvers/array.js","name":"map","original":{"line":29,"column":24},"generated":{"line":1,"column":507}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":29,"column":28},"generated":{"line":1,"column":511}},{"source":"../../../src/template/resolvers/array.js","name":"item","original":{"line":29,"column":29},"generated":{"line":1,"column":520}},{"source":"../../../src/template/resolvers/array.js","name":"index","original":{"line":29,"column":35},"generated":{"line":1,"column":522}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":29,"column":46},"generated":{"line":1,"column":525}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":29,"column":46},"generated":{"line":1,"column":531}},{"source":"../../../src/template/resolvers/array.js","name":"id","original":{"line":30,"column":4},"generated":{"line":1,"column":532}},{"source":"../../../src/template/resolvers/array.js","name":"Object","original":{"line":30,"column":8},"generated":{"line":1,"column":535}},{"source":"../../../src/template/resolvers/array.js","name":"prototype","original":{"line":30,"column":15},"generated":{"line":1,"column":542}},{"source":"../../../src/template/resolvers/array.js","name":"hasOwnProperty","original":{"line":30,"column":25},"generated":{"line":1,"column":552}},{"source":"../../../src/template/resolvers/array.js","name":"call","original":{"line":30,"column":40},"generated":{"line":1,"column":567}},{"source":"../../../src/template/resolvers/array.js","name":"item","original":{"line":30,"column":45},"generated":{"line":1,"column":572}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":30,"column":51},"generated":{"line":1,"column":574}},{"source":"../../../src/template/resolvers/array.js","name":"item","original":{"line":30,"column":59},"generated":{"line":1,"column":580}},{"source":"../../../src/template/resolvers/array.js","name":"id","original":{"line":30,"column":64},"generated":{"line":1,"column":582}},{"source":"../../../src/template/resolvers/array.js","name":"index","original":{"line":30,"column":69},"generated":{"line":1,"column":585}},{"source":"../../../src/template/resolvers/array.js","name":"value","original":{"line":31,"column":4},"generated":{"line":1,"column":587}},{"source":"../../../src/template/resolvers/array.js","name":"item","original":{"line":31,"column":11},"generated":{"line":1,"column":593}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":32,"column":4},"generated":{"line":1,"column":595}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":32,"column":17},"generated":{"line":1,"column":607}},{"source":"../../../src/template/resolvers/array.js","name":"available","original":{"line":33,"column":4},"generated":{"line":1,"column":612}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":33,"column":15},"generated":{"line":1,"column":623}},{"source":"../../../src/template/resolvers/array.js","name":"lastEntries","original":{"line":38,"column":6},"generated":{"line":1,"column":628}},{"source":"../../../src/template/resolvers/array.js","name":"arrayMap","original":{"line":36,"column":2},"generated":{"line":1,"column":631}},{"source":"../../../src/template/resolvers/array.js","name":"set","original":{"line":36,"column":11},"generated":{"line":1,"column":633}},{"source":"../../../src/template/resolvers/array.js","name":"target","original":{"line":36,"column":15},"generated":{"line":1,"column":637}},{"source":"../../../src/template/resolvers/array.js","name":"entries","original":{"line":36,"column":23},"generated":{"line":1,"column":639}},{"source":"../../../src/template/resolvers/array.js","name":"lastEntries","original":{"line":38,"column":6},"generated":{"line":1,"column":642}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":38,"column":19},"generated":{"line":1,"column":644}},{"source":"../../../src/template/resolvers/array.js","name":"ids","original":{"line":39,"column":10},"generated":{"line":1,"column":645}},{"source":"../../../src/template/resolvers/array.js","name":"ids","original":{"line":39,"column":10},"generated":{"line":1,"column":649}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":39,"column":16},"generated":{"line":1,"column":651}},{"source":"../../../src/template/resolvers/array.js","name":"Set","original":{"line":39,"column":20},"generated":{"line":1,"column":655}},{"source":"../../../src/template/resolvers/array.js","name":"entries","original":{"line":40,"column":4},"generated":{"line":1,"column":659}},{"source":"../../../src/template/resolvers/array.js","name":"forEach","original":{"line":40,"column":12},"generated":{"line":1,"column":661}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":40,"column":20},"generated":{"line":1,"column":669}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":40,"column":21},"generated":{"line":1,"column":678}},{"source":"../../../src/template/resolvers/array.js","name":"ids","original":{"line":40,"column":31},"generated":{"line":1,"column":681}},{"source":"../../../src/template/resolvers/array.js","name":"ids","original":{"line":40,"column":31},"generated":{"line":1,"column":688}},{"source":"../../../src/template/resolvers/array.js","name":"add","original":{"line":40,"column":35},"generated":{"line":1,"column":690}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":40,"column":39},"generated":{"line":1,"column":694}},{"source":"../../../src/template/resolvers/array.js","name":"id","original":{"line":40,"column":45},"generated":{"line":1,"column":696}},{"source":"../../../src/template/resolvers/array.js","name":"lastEntries","original":{"line":42,"column":4},"generated":{"line":1,"column":702}},{"source":"../../../src/template/resolvers/array.js","name":"lastEntries","original":{"line":42,"column":18},"generated":{"line":1,"column":704}},{"source":"../../../src/template/resolvers/array.js","name":"filter","original":{"line":42,"column":30},"generated":{"line":1,"column":706}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":42,"column":37},"generated":{"line":1,"column":713}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":42,"column":38},"generated":{"line":1,"column":722}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":43,"column":10},"generated":{"line":1,"column":725}},{"source":"../../../src/template/resolvers/array.js","name":"ids","original":{"line":43,"column":11},"generated":{"line":1,"column":733}},{"source":"../../../src/template/resolvers/array.js","name":"has","original":{"line":43,"column":15},"generated":{"line":1,"column":735}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":43,"column":19},"generated":{"line":1,"column":739}},{"source":"../../../src/template/resolvers/array.js","name":"id","original":{"line":43,"column":25},"generated":{"line":1,"column":741}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":44,"column":23},"generated":{"line":1,"column":748}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":44,"column":23},"generated":{"line":1,"column":750}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":44,"column":23},"generated":{"line":1,"column":752}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":44,"column":23},"generated":{"line":1,"column":768}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":44,"column":29},"generated":{"line":1,"column":770}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":45,"column":8},"generated":{"line":1,"column":783}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":45,"column":14},"generated":{"line":1,"column":785}},{"source":"../../../src/template/resolvers/array.js","name":"parentNode","original":{"line":45,"column":26},"generated":{"line":1,"column":797}},{"source":"../../../src/template/resolvers/array.js","name":"removeChild","original":{"line":45,"column":37},"generated":{"line":1,"column":808}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":45,"column":49},"generated":{"line":1,"column":820}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":45,"column":55},"generated":{"line":1,"column":822}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":46,"column":15},"generated":{"line":1,"column":836}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":57,"column":7},"generated":{"line":1,"column":841}},{"source":"../../../src/template/resolvers/array.js","name":"previousSibling","original":{"line":53,"column":6},"generated":{"line":1,"column":845}},{"source":"../../../src/template/resolvers/array.js","name":"previousSibling","original":{"line":53,"column":6},"generated":{"line":1,"column":849}},{"source":"../../../src/template/resolvers/array.js","name":"target","original":{"line":53,"column":24},"generated":{"line":1,"column":851}},{"source":"../../../src/template/resolvers/array.js","name":"lastIndex","original":{"line":54,"column":8},"generated":{"line":1,"column":853}},{"source":"../../../src/template/resolvers/array.js","name":"value","original":{"line":54,"column":20},"generated":{"line":1,"column":855}},{"source":"../../../src/template/resolvers/array.js","name":"length","original":{"line":54,"column":26},"generated":{"line":1,"column":857}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":54,"column":35},"generated":{"line":1,"column":864}},{"source":"../../../src/template/resolvers/array.js","name":"data","original":{"line":55,"column":8},"generated":{"line":1,"column":866}},{"source":"../../../src/template/resolvers/array.js","name":"dataMap","original":{"line":55,"column":15},"generated":{"line":1,"column":868}},{"source":"../../../src/template/resolvers/array.js","name":"get","original":{"line":55,"column":23},"generated":{"line":1,"column":870}},{"source":"../../../src/template/resolvers/array.js","name":"get","original":{"line":55,"column":23},"generated":{"line":1,"column":878}},{"source":"../../../src/template/resolvers/array.js","name":"target","original":{"line":55,"column":27},"generated":{"line":1,"column":882}},{"source":"../../../src/template/resolvers/array.js","name":"index","original":{"line":57,"column":11},"generated":{"line":1,"column":885}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":57,"column":19},"generated":{"line":1,"column":887}},{"source":"../../../src/template/resolvers/array.js","name":"index","original":{"line":57,"column":22},"generated":{"line":1,"column":889}},{"source":"../../../src/template/resolvers/array.js","name":"entries","original":{"line":57,"column":30},"generated":{"line":1,"column":891}},{"source":"../../../src/template/resolvers/array.js","name":"length","original":{"line":57,"column":38},"generated":{"line":1,"column":893}},{"source":"../../../src/template/resolvers/array.js","name":"index","original":{"line":57,"column":46},"generated":{"line":1,"column":900}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":57,"column":55},"generated":{"line":1,"column":903}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":57,"column":58},"generated":{"line":1,"column":905}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":58,"column":10},"generated":{"line":1,"column":906}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":58,"column":10},"generated":{"line":1,"column":910}},{"source":"../../../src/template/resolvers/array.js","name":"entries","original":{"line":58,"column":18},"generated":{"line":1,"column":912}},{"source":"../../../src/template/resolvers/array.js","name":"index","original":{"line":58,"column":26},"generated":{"line":1,"column":914}},{"source":"../../../src/template/resolvers/array.js","name":"matchedEntry","original":{"line":59,"column":8},"generated":{"line":1,"column":917}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":59,"column":20},"generated":{"line":1,"column":924}},{"source":"../../../src/template/resolvers/array.js","name":"lastEntries","original":{"line":60,"column":8},"generated":{"line":1,"column":926}},{"source":"../../../src/template/resolvers/array.js","name":"lastEntries","original":{"line":60,"column":8},"generated":{"line":1,"column":929}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":61,"column":11},"generated":{"line":1,"column":931}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":61,"column":11},"generated":{"line":1,"column":935}},{"source":"../../../src/template/resolvers/array.js","name":"i","original":{"line":61,"column":15},"generated":{"line":1,"column":939}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":61,"column":19},"generated":{"line":1,"column":941}},{"source":"../../../src/template/resolvers/array.js","name":"i","original":{"line":61,"column":22},"generated":{"line":1,"column":943}},{"source":"../../../src/template/resolvers/array.js","name":"lastEntries","original":{"line":61,"column":26},"generated":{"line":1,"column":945}},{"source":"../../../src/template/resolvers/array.js","name":"length","original":{"line":61,"column":38},"generated":{"line":1,"column":947}},{"source":"../../../src/template/resolvers/array.js","name":"i","original":{"line":61,"column":46},"generated":{"line":1,"column":954}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":61,"column":51},"generated":{"line":1,"column":957}},{"source":"../../../src/template/resolvers/array.js","name":"lastEntries","original":{"line":62,"column":12},"generated":{"line":1,"column":959}},{"source":"../../../src/template/resolvers/array.js","name":"lastEntries","original":{"line":62,"column":12},"generated":{"line":1,"column":962}},{"source":"../../../src/template/resolvers/array.js","name":"i","original":{"line":62,"column":24},"generated":{"line":1,"column":964}},{"source":"../../../src/template/resolvers/array.js","name":"available","original":{"line":62,"column":27},"generated":{"line":1,"column":967}},{"source":"../../../src/template/resolvers/array.js","name":"lastEntries","original":{"line":62,"column":40},"generated":{"line":1,"column":978}},{"source":"../../../src/template/resolvers/array.js","name":"i","original":{"line":62,"column":52},"generated":{"line":1,"column":980}},{"source":"../../../src/template/resolvers/array.js","name":"id","original":{"line":62,"column":55},"generated":{"line":1,"column":983}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":62,"column":62},"generated":{"line":1,"column":988}},{"source":"../../../src/template/resolvers/array.js","name":"id","original":{"line":62,"column":68},"generated":{"line":1,"column":990}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":62,"column":72},"generated":{"line":1,"column":993}},{"source":"../../../src/template/resolvers/array.js","name":"matchedEntry","original":{"line":63,"column":10},"generated":{"line":1,"column":994}},{"source":"../../../src/template/resolvers/array.js","name":"lastEntries","original":{"line":63,"column":25},"generated":{"line":1,"column":996}},{"source":"../../../src/template/resolvers/array.js","name":"i","original":{"line":63,"column":37},"generated":{"line":1,"column":998}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":64,"column":10},"generated":{"line":1,"column":1001}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":69,"column":8},"generated":{"line":1,"column":1007}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":69,"column":8},"generated":{"line":1,"column":1011}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":69,"column":19},"generated":{"line":1,"column":1018}},{"source":"../../../src/template/resolvers/array.js","name":"matchedEntry","original":{"line":70,"column":8},"generated":{"line":1,"column":1020}},{"source":"../../../src/template/resolvers/array.js","name":"matchedEntry","original":{"line":71,"column":6},"generated":{"line":1,"column":1023}},{"source":"../../../src/template/resolvers/array.js","name":"available","original":{"line":71,"column":19},"generated":{"line":1,"column":1025}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":71,"column":31},"generated":{"line":1,"column":1036}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":72,"column":6},"generated":{"line":1,"column":1039}},{"source":"../../../src/template/resolvers/array.js","name":"matchedEntry","original":{"line":72,"column":20},"generated":{"line":1,"column":1041}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":72,"column":33},"generated":{"line":1,"column":1043}},{"source":"../../../src/template/resolvers/array.js","name":"previousSibling","original":{"line":74,"column":22},"generated":{"line":1,"column":1056}},{"source":"../../../src/template/resolvers/array.js","name":"previousSibling","original":{"line":74,"column":42},"generated":{"line":1,"column":1074}},{"source":"../../../src/template/resolvers/array.js","name":"movePlaceholder","original":{"line":75,"column":8},"generated":{"line":1,"column":1077}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":75,"column":24},"generated":{"line":1,"column":1079}},{"source":"../../../src/template/resolvers/array.js","name":"previousSibling","original":{"line":75,"column":37},"generated":{"line":1,"column":1081}},{"source":"../../../src/template/resolvers/array.js","name":"matchedEntry","original":{"line":77,"column":10},"generated":{"line":1,"column":1084}},{"source":"../../../src/template/resolvers/array.js","name":"value","original":{"line":77,"column":23},"generated":{"line":1,"column":1086}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":77,"column":33},"generated":{"line":1,"column":1094}},{"source":"../../../src/template/resolvers/array.js","name":"value","original":{"line":77,"column":39},"generated":{"line":1,"column":1096}},{"source":"../../../src/template/resolvers/array.js","name":"host","original":{"line":78,"column":21},"generated":{"line":1,"column":1104}},{"source":"../../../src/template/resolvers/array.js","name":"host","original":{"line":78,"column":21},"generated":{"line":1,"column":1106}},{"source":"../../../src/template/resolvers/array.js","name":"host","original":{"line":78,"column":21},"generated":{"line":1,"column":1108}},{"source":"../../../src/template/resolvers/array.js","name":"host","original":{"line":78,"column":21},"generated":{"line":1,"column":1117}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":78,"column":27},"generated":{"line":1,"column":1119}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":78,"column":40},"generated":{"line":1,"column":1121}},{"source":"../../../src/template/resolvers/array.js","name":"value","original":{"line":78,"column":46},"generated":{"line":1,"column":1123}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":81,"column":6},"generated":{"line":1,"column":1132}},{"source":"../../../src/template/resolvers/array.js","name":"document","original":{"line":81,"column":20},"generated":{"line":1,"column":1134}},{"source":"../../../src/template/resolvers/array.js","name":"createTextNode","original":{"line":81,"column":29},"generated":{"line":1,"column":1143}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":81,"column":44},"generated":{"line":1,"column":1158}},{"source":"../../../src/template/resolvers/array.js","name":"previousSibling","original":{"line":82,"column":6},"generated":{"line":1,"column":1162}},{"source":"../../../src/template/resolvers/array.js","name":"parentNode","original":{"line":82,"column":22},"generated":{"line":1,"column":1164}},{"source":"../../../src/template/resolvers/array.js","name":"insertBefore","original":{"line":82,"column":33},"generated":{"line":1,"column":1175}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":82,"column":46},"generated":{"line":1,"column":1188}},{"source":"../../../src/template/resolvers/array.js","name":"previousSibling","original":{"line":82,"column":59},"generated":{"line":1,"column":1190}},{"source":"../../../src/template/resolvers/array.js","name":"nextSibling","original":{"line":82,"column":75},"generated":{"line":1,"column":1192}},{"source":"../../../src/template/resolvers/array.js","name":"host","original":{"line":83,"column":19},"generated":{"line":1,"column":1206}},{"source":"../../../src/template/resolvers/array.js","name":"host","original":{"line":83,"column":19},"generated":{"line":1,"column":1208}},{"source":"../../../src/template/resolvers/array.js","name":"host","original":{"line":83,"column":19},"generated":{"line":1,"column":1210}},{"source":"../../../src/template/resolvers/array.js","name":"host","original":{"line":83,"column":19},"generated":{"line":1,"column":1219}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":83,"column":25},"generated":{"line":1,"column":1221}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":83,"column":38},"generated":{"line":1,"column":1223}},{"source":"../../../src/template/resolvers/array.js","name":"value","original":{"line":83,"column":44},"generated":{"line":1,"column":1225}},{"source":"../../../src/template/resolvers/array.js","name":"previousSibling","original":{"line":86,"column":4},"generated":{"line":1,"column":1233}},{"source":"../../../src/template/resolvers/array.js","name":"getTemplateEnd","original":{"line":86,"column":22},"generated":{"line":1,"column":1236}},{"source":"../../../src/template/resolvers/array.js","name":"dataMap","original":{"line":86,"column":37},"generated":{"line":1,"column":1238}},{"source":"../../../src/template/resolvers/array.js","name":"dataMap","original":{"line":86,"column":37},"generated":{"line":1,"column":1240}},{"source":"../../../src/template/resolvers/array.js","name":"dataMap","original":{"line":86,"column":37},"generated":{"line":1,"column":1256}},{"source":"../../../src/template/resolvers/array.js","name":"get","original":{"line":86,"column":45},"generated":{"line":1,"column":1258}},{"source":"../../../src/template/resolvers/array.js","name":"get","original":{"line":86,"column":45},"generated":{"line":1,"column":1266}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":86,"column":49},"generated":{"line":1,"column":1270}},{"source":"../../../src/template/resolvers/array.js","name":"endNode","original":{"line":86,"column":62},"generated":{"line":1,"column":1273}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":86,"column":73},"generated":{"line":1,"column":1282}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":88,"column":18},"generated":{"line":1,"column":1285}},{"source":"../../../src/template/resolvers/array.js","name":"index","original":{"line":88,"column":8},"generated":{"line":1,"column":1289}},{"source":"../../../src/template/resolvers/array.js","name":"data","original":{"line":88,"column":21},"generated":{"line":1,"column":1293}},{"source":"../../../src/template/resolvers/array.js","name":"startNode","original":{"line":88,"column":26},"generated":{"line":1,"column":1295}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":88,"column":38},"generated":{"line":1,"column":1305}},{"source":"../../../src/template/resolvers/array.js","name":"index","original":{"line":89,"column":8},"generated":{"line":1,"column":1308}},{"source":"../../../src/template/resolvers/array.js","name":"lastIndex","original":{"line":89,"column":18},"generated":{"line":1,"column":1312}},{"source":"../../../src/template/resolvers/array.js","name":"data","original":{"line":89,"column":29},"generated":{"line":1,"column":1316}},{"source":"../../../src/template/resolvers/array.js","name":"endNode","original":{"line":89,"column":34},"generated":{"line":1,"column":1318}},{"source":"../../../src/template/resolvers/array.js","name":"previousSibling","original":{"line":89,"column":44},"generated":{"line":1,"column":1326}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":91,"column":4},"generated":{"line":1,"column":1329}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":91,"column":10},"generated":{"line":1,"column":1331}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":91,"column":24},"generated":{"line":1,"column":1343}},{"source":"../../../src/template/resolvers/array.js","name":"lastEntries","original":{"line":94,"column":6},"generated":{"line":1,"column":1345}},{"source":"../../../src/template/resolvers/array.js","name":"lastEntries","original":{"line":95,"column":4},"generated":{"line":1,"column":1348}},{"source":"../../../src/template/resolvers/array.js","name":"forEach","original":{"line":95,"column":16},"generated":{"line":1,"column":1350}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":95,"column":24},"generated":{"line":1,"column":1358}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":95,"column":25},"generated":{"line":1,"column":1367}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":96,"column":10},"generated":{"line":1,"column":1370}},{"source":"../../../src/template/resolvers/array.js","name":"available","original":{"line":96,"column":16},"generated":{"line":1,"column":1372}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":97,"column":23},"generated":{"line":1,"column":1385}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":97,"column":23},"generated":{"line":1,"column":1387}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":97,"column":23},"generated":{"line":1,"column":1389}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":97,"column":23},"generated":{"line":1,"column":1405}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":97,"column":29},"generated":{"line":1,"column":1407}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":98,"column":8},"generated":{"line":1,"column":1420}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":98,"column":14},"generated":{"line":1,"column":1422}},{"source":"../../../src/template/resolvers/array.js","name":"parentNode","original":{"line":98,"column":26},"generated":{"line":1,"column":1434}},{"source":"../../../src/template/resolvers/array.js","name":"removeChild","original":{"line":98,"column":37},"generated":{"line":1,"column":1445}},{"source":"../../../src/template/resolvers/array.js","name":"entry","original":{"line":98,"column":49},"generated":{"line":1,"column":1457}},{"source":"../../../src/template/resolvers/array.js","name":"placeholder","original":{"line":98,"column":55},"generated":{"line":1,"column":1459}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":1475}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":1483}},{"source":"../../../src/template/resolvers/array.js","name":null,"original":{"line":102,"column":1},"generated":{"line":1,"column":1492}}],"sources":{"../../../src/template/resolvers/array.js":"import {\n  dataMap, removeTemplate, getTemplateEnd,\n} from '../utils';\n\n// eslint-disable-next-line import/no-cycle\nimport resolveValue from './value';\n\nexport const arrayMap = new WeakMap();\n\nfunction movePlaceholder(target, previousSibling) {\n  const data = dataMap.get(target);\n  const startNode = data.startNode;\n  const endNode = getTemplateEnd(data.endNode);\n\n  previousSibling.parentNode.insertBefore(target, previousSibling.nextSibling);\n\n  let prevNode = target;\n  let node = startNode;\n  while (node) {\n    const nextNode = node.nextSibling;\n    prevNode.parentNode.insertBefore(node, prevNode.nextSibling);\n    prevNode = node;\n    node = nextNode !== endNode.nextSibling && nextNode;\n  }\n}\n\nexport default function resolveArray(host, target, value) {\n  let lastEntries = arrayMap.get(target);\n  const entries = value.map((item, index) => ({\n    id: Object.prototype.hasOwnProperty.call(item, 'id') ? item.id : index,\n    value: item,\n    placeholder: null,\n    available: true,\n  }));\n\n  arrayMap.set(target, entries);\n\n  if (lastEntries) {\n    const ids = new Set();\n    entries.forEach((entry) => ids.add(entry.id));\n\n    lastEntries = lastEntries.filter((entry) => {\n      if (!ids.has(entry.id)) {\n        removeTemplate(entry.placeholder);\n        entry.placeholder.parentNode.removeChild(entry.placeholder);\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  let previousSibling = target;\n  const lastIndex = value.length - 1;\n  const data = dataMap.get(target);\n\n  for (let index = 0; index < entries.length; index += 1) {\n    const entry = entries[index];\n    let matchedEntry;\n    if (lastEntries) {\n      for (let i = 0; i < lastEntries.length; i += 1) {\n        if (lastEntries[i].available && lastEntries[i].id === entry.id) {\n          matchedEntry = lastEntries[i];\n          break;\n        }\n      }\n    }\n\n    let placeholder;\n    if (matchedEntry) {\n      matchedEntry.available = false;\n      placeholder = matchedEntry.placeholder;\n\n      if (placeholder.previousSibling !== previousSibling) {\n        movePlaceholder(placeholder, previousSibling);\n      }\n      if (matchedEntry.value !== entry.value) {\n        resolveValue(host, placeholder, entry.value);\n      }\n    } else {\n      placeholder = document.createTextNode('');\n      previousSibling.parentNode.insertBefore(placeholder, previousSibling.nextSibling);\n      resolveValue(host, placeholder, entry.value);\n    }\n\n    previousSibling = getTemplateEnd(dataMap.get(placeholder).endNode || placeholder);\n\n    if (index === 0) data.startNode = placeholder;\n    if (index === lastIndex) data.endNode = previousSibling;\n\n    entry.placeholder = placeholder;\n  }\n\n  if (lastEntries) {\n    lastEntries.forEach((entry) => {\n      if (entry.available) {\n        removeTemplate(entry.placeholder);\n        entry.placeholder.parentNode.removeChild(entry.placeholder);\n      }\n    });\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"99936d3cbea134bce7bdb0fcd27088d8","cacheData":{"env":{}}}