{"id":"GXYw","dependencies":[{"name":"/Users/anthony.penna/Documents/Code/hybrid-router/package.json","includedInParent":true,"mtime":1581441185279},{"name":"/Users/anthony.penna/Documents/Code/hybrid-router/node_modules/hybrids/package.json","includedInParent":true,"mtime":1581356308302},{"name":"/Users/anthony.penna/Documents/Code/hybrid-router/node_modules/hybrids/.babelrc","includedInParent":true,"mtime":499162500000}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.dispatch=n,exports.subscribe=c;var e=new WeakMap,t=new Set;function r(){try{t.forEach(function(r){try{e.get(r)(),t.delete(r)}catch(n){throw t.delete(r),n}})}catch(n){throw t.size&&r(),n}}function n(e){t.size||requestAnimationFrame(r),t.add(e)}function c(r,c){return e.set(r,c),n(r),function(){t.delete(r),e.delete(r)}}"},"sourceMaps":{"js":{"mappings":[{"source":"../src/emitter.js","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":0}},{"source":"../src/emitter.js","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":13}},{"source":"../src/emitter.js","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":20}},{"source":"../src/emitter.js","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":35}},{"source":"../src/emitter.js","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":43}},{"source":"../src/emitter.js","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":56}},{"source":"../src/emitter.js","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":57}},{"source":"../src/emitter.js","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":64}},{"source":"../src/emitter.js","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":68}},{"source":"../src/emitter.js","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":76}},{"source":"../src/emitter.js","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":85}},{"source":"../src/emitter.js","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":87}},{"source":"../src/emitter.js","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":95}},{"source":"../src/emitter.js","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":105}},{"source":"../src/emitter.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"../src/emitter.js","name":"callbacks","original":{"line":1,"column":6},"generated":{"line":1,"column":111}},{"source":"../src/emitter.js","name":null,"original":{"line":1,"column":18},"generated":{"line":1,"column":113}},{"source":"../src/emitter.js","name":"WeakMap","original":{"line":1,"column":22},"generated":{"line":1,"column":117}},{"source":"../src/emitter.js","name":"queue","original":{"line":2,"column":6},"generated":{"line":1,"column":125}},{"source":"../src/emitter.js","name":null,"original":{"line":2,"column":14},"generated":{"line":1,"column":127}},{"source":"../src/emitter.js","name":"Set","original":{"line":2,"column":18},"generated":{"line":1,"column":131}},{"source":"../src/emitter.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":135}},{"source":"../src/emitter.js","name":"execute","original":{"line":4,"column":9},"generated":{"line":1,"column":144}},{"source":"../src/emitter.js","name":null,"original":{"line":5,"column":6},"generated":{"line":1,"column":148}},{"source":"../src/emitter.js","name":"queue","original":{"line":6,"column":4},"generated":{"line":1,"column":152}},{"source":"../src/emitter.js","name":"forEach","original":{"line":6,"column":10},"generated":{"line":1,"column":154}},{"source":"../src/emitter.js","name":null,"original":{"line":6,"column":18},"generated":{"line":1,"column":162}},{"source":"../src/emitter.js","name":"target","original":{"line":6,"column":19},"generated":{"line":1,"column":171}},{"source":"../src/emitter.js","name":null,"original":{"line":7,"column":10},"generated":{"line":1,"column":174}},{"source":"../src/emitter.js","name":"callbacks","original":{"line":8,"column":8},"generated":{"line":1,"column":178}},{"source":"../src/emitter.js","name":"get","original":{"line":8,"column":18},"generated":{"line":1,"column":180}},{"source":"../src/emitter.js","name":"target","original":{"line":8,"column":22},"generated":{"line":1,"column":184}},{"source":"../src/emitter.js","name":"callbacks","original":{"line":8,"column":8},"generated":{"line":1,"column":186}},{"source":"../src/emitter.js","name":"queue","original":{"line":9,"column":8},"generated":{"line":1,"column":189}},{"source":"../src/emitter.js","name":"delete","original":{"line":9,"column":14},"generated":{"line":1,"column":191}},{"source":"../src/emitter.js","name":"target","original":{"line":9,"column":21},"generated":{"line":1,"column":198}},{"source":"../src/emitter.js","name":null,"original":{"line":10,"column":8},"generated":{"line":1,"column":201}},{"source":"../src/emitter.js","name":"e","original":{"line":10,"column":15},"generated":{"line":1,"column":207}},{"source":"../src/emitter.js","name":"e","original":{"line":12,"column":14},"generated":{"line":1,"column":210}},{"source":"../src/emitter.js","name":"queue","original":{"line":11,"column":8},"generated":{"line":1,"column":216}},{"source":"../src/emitter.js","name":"delete","original":{"line":11,"column":14},"generated":{"line":1,"column":218}},{"source":"../src/emitter.js","name":"target","original":{"line":11,"column":21},"generated":{"line":1,"column":225}},{"source":"../src/emitter.js","name":"e","original":{"line":12,"column":14},"generated":{"line":1,"column":228}},{"source":"../src/emitter.js","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":233}},{"source":"../src/emitter.js","name":"e","original":{"line":15,"column":11},"generated":{"line":1,"column":239}},{"source":"../src/emitter.js","name":"e","original":{"line":17,"column":10},"generated":{"line":1,"column":242}},{"source":"../src/emitter.js","name":"queue","original":{"line":16,"column":8},"generated":{"line":1,"column":248}},{"source":"../src/emitter.js","name":"size","original":{"line":16,"column":14},"generated":{"line":1,"column":250}},{"source":"../src/emitter.js","name":"execute","original":{"line":16,"column":20},"generated":{"line":1,"column":256}},{"source":"../src/emitter.js","name":"e","original":{"line":17,"column":10},"generated":{"line":1,"column":260}},{"source":"../src/emitter.js","name":null,"original":{"line":21,"column":7},"generated":{"line":1,"column":263}},{"source":"../src/emitter.js","name":"dispatch","original":{"line":21,"column":16},"generated":{"line":1,"column":272}},{"source":"../src/emitter.js","name":"target","original":{"line":21,"column":25},"generated":{"line":1,"column":274}},{"source":"../src/emitter.js","name":"queue","original":{"line":22,"column":7},"generated":{"line":1,"column":277}},{"source":"../src/emitter.js","name":"size","original":{"line":22,"column":13},"generated":{"line":1,"column":279}},{"source":"../src/emitter.js","name":"requestAnimationFrame","original":{"line":23,"column":4},"generated":{"line":1,"column":285}},{"source":"../src/emitter.js","name":"execute","original":{"line":23,"column":26},"generated":{"line":1,"column":307}},{"source":"../src/emitter.js","name":"queue","original":{"line":25,"column":2},"generated":{"line":1,"column":310}},{"source":"../src/emitter.js","name":"add","original":{"line":25,"column":8},"generated":{"line":1,"column":312}},{"source":"../src/emitter.js","name":"target","original":{"line":25,"column":12},"generated":{"line":1,"column":316}},{"source":"../src/emitter.js","name":null,"original":{"line":28,"column":7},"generated":{"line":1,"column":319}},{"source":"../src/emitter.js","name":"subscribe","original":{"line":28,"column":16},"generated":{"line":1,"column":328}},{"source":"../src/emitter.js","name":"target","original":{"line":28,"column":26},"generated":{"line":1,"column":330}},{"source":"../src/emitter.js","name":"cb","original":{"line":28,"column":34},"generated":{"line":1,"column":332}},{"source":"../src/emitter.js","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":335}},{"source":"../src/emitter.js","name":"callbacks","original":{"line":29,"column":2},"generated":{"line":1,"column":342}},{"source":"../src/emitter.js","name":"set","original":{"line":29,"column":12},"generated":{"line":1,"column":344}},{"source":"../src/emitter.js","name":"target","original":{"line":29,"column":16},"generated":{"line":1,"column":348}},{"source":"../src/emitter.js","name":"cb","original":{"line":29,"column":24},"generated":{"line":1,"column":350}},{"source":"../src/emitter.js","name":"dispatch","original":{"line":30,"column":2},"generated":{"line":1,"column":353}},{"source":"../src/emitter.js","name":"target","original":{"line":30,"column":11},"generated":{"line":1,"column":355}},{"source":"../src/emitter.js","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":358}},{"source":"../src/emitter.js","name":"queue","original":{"line":33,"column":4},"generated":{"line":1,"column":369}},{"source":"../src/emitter.js","name":"delete","original":{"line":33,"column":10},"generated":{"line":1,"column":371}},{"source":"../src/emitter.js","name":"target","original":{"line":33,"column":17},"generated":{"line":1,"column":378}},{"source":"../src/emitter.js","name":"callbacks","original":{"line":34,"column":4},"generated":{"line":1,"column":381}},{"source":"../src/emitter.js","name":"delete","original":{"line":34,"column":14},"generated":{"line":1,"column":383}},{"source":"../src/emitter.js","name":"target","original":{"line":34,"column":21},"generated":{"line":1,"column":390}}],"sources":{"../src/emitter.js":"const callbacks = new WeakMap();\nconst queue = new Set();\n\nfunction execute() {\n  try {\n    queue.forEach((target) => {\n      try {\n        callbacks.get(target)();\n        queue.delete(target);\n      } catch (e) {\n        queue.delete(target);\n        throw e;\n      }\n    });\n  } catch (e) {\n    if (queue.size) execute();\n    throw e;\n  }\n}\n\nexport function dispatch(target) {\n  if (!queue.size) {\n    requestAnimationFrame(execute);\n  }\n  queue.add(target);\n}\n\nexport function subscribe(target, cb) {\n  callbacks.set(target, cb);\n  dispatch(target);\n\n  return function unsubscribe() {\n    queue.delete(target);\n    callbacks.delete(target);\n  };\n}\n"},"lineCount":null}},"error":null,"hash":"e571f8a71d49fa3ff7cb3401e109637c","cacheData":{"env":{}}}