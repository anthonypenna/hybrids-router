"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("hybrids");function e(t){const{href:e,origin:r}=t.location;return e.replace(r,"")}function r(t){const e="/"===t.slice(0,1);return"#"===t.slice(1,2)?t:e?"/#"+t.slice(1):"/#"+t}function o(t){const e="#"!==t.slice(0,1)&&"#"!==t.slice(1,2),r="/"!==t.slice(0,1);return r&&e?"/"+t:r&&!e?"/"+t.replace("#",""):r||e?t:t.replace("/#","/")}const n=e=>{const n="history"===e.mode?e.routes.find(t=>o(t.path)===e.currentPath):e.routes.find(t=>r(t.path)===e.currentPath);return n?n.component:t.html``};exports.Router=function(r){return{mode:r.mode||"history",routes:r.routes||[],currentPath:e(window),render:t.render(n,{shadowRoot:r.shadowRoot})}},exports.push=function(t,n){const s=r(n),i=o(n),c=e(window);if(c===s||c===i)return;const{state:u}=window.history,{pathname:a}=window.location,d="history"===t.mode;t.currentPath=d?i:s,window.history.pushState(u,a,t.currentPath),window.addEventListener("popstate",()=>t.currentPath=e(window))};
